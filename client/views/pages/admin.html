<template name="admin">
    {{> flashMessages}}
    <div class="wrapper wrapper-content">
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        {{> LeakStore}}
                        <hr/>
                        {{> showLeakRules}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>


<template name="showLeakRules">
    <div style="clear: both;padding-top: 10px;">
  <h3 style="color:#1ab394;">Showing {{getLeaKRulesCount}} Leak Rules</h3>
    {{#if Template.subscriptionsReady}}
        <ul class="list-group">
            {{#each getLeakRules}}
                {{> leakRule}}
            {{/each}}
        </ul>
    {{else}}
   Loading Subscriptions
{{/if}}
    <!--<button type="button" class="btn btn-info btn-sm" id="showOneMore">Show More</button>-->
        </div>
</template>

<template name="setLeakRules">
    <h3 style="color:#f8ac59;">Set Up the New Leak Rules</h3>
    <form class="form-Vertical">
        <div class="form-group">
            <label for="flow">Amount of Water</label>
            <input type="text" class="form-control" id="flow" placeholder="Enter amount of water flow in Litres">
        </div>
        <div class="form-group">
            <label for="time">Time Range</label>
            <input type="text" class="form-control" id="time" placeholder="Enter time range in seconds">
        </div>

        <div class="form-group">
            <label for="actionLeak">Select Action (select one):</label>
            <select class="form-control" id="actionLeak">
                <option value="setLeak">setLeak</option>
                <option value="disableWater">disableWater</option>
            </select>
        </div>

        <button type="submit" id="setRuleBtn" class="btn btn-primary">Submit</button>
    </form>
</template>

<template name="leakRule">
   <li class="list-group-item">
        AmountFlow: {{flow}}, TimeRange: {{timeFrame}}, Action: {{action.actionStatement}} <a href="#" class="delete-rule" style="float:right;font-size: 10px;">delete</a>
   </li>
</template>

<template name="LeakStore">
    <div>{{> React component=getLeakStore}}</div>
</template>